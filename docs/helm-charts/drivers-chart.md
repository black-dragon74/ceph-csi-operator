---
title: Ceph-CSI Driver Helm Chart
---
<!---
Document is generated by `make generate-helm-docs`. DO NOT EDIT.
Edit the corresponding *.gotmpl.md file instead
-->

Creates ceph-csi-operator resources to configure a [ceph-csi](https://github.com/ceph/ceph-csi) drivers using the [Helm](https://helm.sh) package manager.
This chart is a simple packaging of templates that will optionally create ceph-csi-operator resources such as:

* Driver CRs (RBD,cephFS,NFS)
* CephConnection that contains the ceph details
* ClientProfile for the RBD/CephFS/NFS clusterID and corresponding configurations
* ClientProfileMapping for disaster recovery

## Prerequisites

* Kubernetes 1.32+
* Helm 3.x

See the [Helm support matrix](https://helm.sh/docs/topics/version_skew/) for more details.

## Installing

The Ceph-CSI Drivers helm chart will install the basic components necessary to install [ceph-csi](https://github.com/ceph/ceph-csi) on Kubernetes cluster.

1. Install the Helm chart

The `helm install` command deploys ceph-csi-drivers on the Kubernetes cluster in the default configuration. The [configuration](#configuration) section lists the parameters that can be configured during installation.

ceph-csi-drivers currently publishes artifacts of the ceph-csi drivers to tagged versions.

### **Released version**

```console
helm repo add ceph-csi-operator https://ceph.github.io/ceph-csi-operator-charts
helm install ceph-csi-drivers --create-namespace --namespace ceph-csi-driver ceph-csi-operator/ceph-csi-drivers
```

For example settings, see the next section or [values.yaml](https://github.com/ceph/ceph-csi-operator/tree/main/deploy/charts/ceph-csi-drivers/values.yaml)

## Configuration

The following table lists the configurable parameters of the ceph-csi-drivers chart and their default values.

| Parameter | Description | Default |
|-----------|-------------|---------|
| `cephConnections[0].crushLocationLabels` |  | `{}` |
| `cephConnections[0].monitors` |  | `{}` |
| `cephConnections[0].name` |  | `""` |
| `cephConnections[0].rbdMirrorDaemonCount` |  | `1` |
| `clientProfiles[0].cephConnection.name` |  | `""` |
| `clientProfiles[0].cephFs.fuseMountOptions` |  | `{}` |
| `clientProfiles[0].cephFs.kernelMountOptions` |  | `{}` |
| `clientProfiles[0].cephFs.subVolumeGroup` |  | `""` |
| `clientProfiles[0].name` |  | `""` |
| `clientProfiles[0].rbd.radosNamespace` |  | `""` |
| `drivers[0].attachRequired` |  | `true` |
| `drivers[0].cephFsClientType` |  | `"kernel"` |
| `drivers[0].clusterName` |  | `""` |
| `drivers[0].controllerPlugin.deploymentStrategy` |  | `{}` |
| `drivers[0].controllerPlugin.hostNetwork` |  | `false` |
| `drivers[0].controllerPlugin.privileged` |  | `false` |
| `drivers[0].controllerPlugin.replicas` |  | `1` |
| `drivers[0].controllerPlugin.resources` |  | `{}` |
| `drivers[0].controllerPlugin.tolerations` |  | `[]` |
| `drivers[0].deployCsiAddons` |  | `false` |
| `drivers[0].enableMetadata` |  | `false` |
| `drivers[0].enabled` |  | `true` |
| `drivers[0].encryption.configMapRef.name` |  | `""` |
| `drivers[0].fsGroupPolicy` |  | `"File"` |
| `drivers[0].fuseMountOptions` |  | `{}` |
| `drivers[0].generateOMapInfo` |  | `false` |
| `drivers[0].grpcTimeout` |  | `30` |
| `drivers[0].imageSet.name` |  | `""` |
| `drivers[0].kernelMountOptions` |  | `{}` |
| `drivers[0].log.rotation.logHostPath` |  | `""` |
| `drivers[0].log.rotation.maxFiles` |  | `7` |
| `drivers[0].log.rotation.maxLogSize` |  | `"10Gi"` |
| `drivers[0].log.rotation.periodicity` |  | `"daily"` |
| `drivers[0].log.verbosity` |  | `0` |
| `drivers[0].name` |  | `"rbd.csi.ceph.com"` |
| `drivers[0].nodePlugin.affinity` |  | `{}` |
| `drivers[0].nodePlugin.annotations` |  | `{}` |
| `drivers[0].nodePlugin.imagePullPolicy` |  | `"IfNotPresent"` |
| `drivers[0].nodePlugin.labels` |  | `{}` |
| `drivers[0].nodePlugin.priorityClassName` |  | `""` |
| `drivers[0].nodePlugin.tolerations` |  | `[]` |
| `drivers[0].nodePlugin.volumes` |  | `[]` |
| `drivers[0].snapshotPolicy` |  | `"none"` |
| `drivers[1].attachRequired` |  | `true` |
| `drivers[1].cephFsClientType` |  | `"kernel"` |
| `drivers[1].clusterName` |  | `""` |
| `drivers[1].controllerPlugin.deploymentStrategy` |  | `{}` |
| `drivers[1].controllerPlugin.hostNetwork` |  | `false` |
| `drivers[1].controllerPlugin.privileged` |  | `false` |
| `drivers[1].controllerPlugin.replicas` |  | `1` |
| `drivers[1].controllerPlugin.resources` |  | `{}` |
| `drivers[1].controllerPlugin.tolerations` |  | `[]` |
| `drivers[1].deployCsiAddons` |  | `false` |
| `drivers[1].enableMetadata` |  | `false` |
| `drivers[1].enabled` |  | `true` |
| `drivers[1].encryption.configMapRef.name` |  | `""` |
| `drivers[1].fsGroupPolicy` |  | `"None"` |
| `drivers[1].fuseMountOptions` |  | `{}` |
| `drivers[1].generateOMapInfo` |  | `false` |
| `drivers[1].grpcTimeout` |  | `30` |
| `drivers[1].imageSet.name` |  | `""` |
| `drivers[1].kernelMountOptions` |  | `{}` |
| `drivers[1].log.rotation.logHostPath` |  | `""` |
| `drivers[1].log.rotation.maxFiles` |  | `7` |
| `drivers[1].log.rotation.maxLogSize` |  | `"10Gi"` |
| `drivers[1].log.rotation.periodicity` |  | `"daily"` |
| `drivers[1].log.verbosity` |  | `0` |
| `drivers[1].name` |  | `"cephfs.csi.ceph.com"` |
| `drivers[1].nodePlugin.affinity` |  | `{}` |
| `drivers[1].nodePlugin.annotations` |  | `{}` |
| `drivers[1].nodePlugin.imagePullPolicy` |  | `"IfNotPresent"` |
| `drivers[1].nodePlugin.labels` |  | `{}` |
| `drivers[1].nodePlugin.priorityClassName` |  | `""` |
| `drivers[1].nodePlugin.tolerations` |  | `[]` |
| `drivers[1].nodePlugin.volumes` |  | `[]` |
| `drivers[1].snapshotPolicy` |  | `"volumeSnapshot"` |
| `drivers[2].attachRequired` |  | `true` |
| `drivers[2].cephFsClientType` |  | `"kernel"` |
| `drivers[2].clusterName` |  | `""` |
| `drivers[2].controllerPlugin.deploymentStrategy` |  | `{}` |
| `drivers[2].controllerPlugin.hostNetwork` |  | `false` |
| `drivers[2].controllerPlugin.privileged` |  | `false` |
| `drivers[2].controllerPlugin.replicas` |  | `1` |
| `drivers[2].controllerPlugin.resources` |  | `{}` |
| `drivers[2].controllerPlugin.tolerations` |  | `[]` |
| `drivers[2].deployCsiAddons` |  | `false` |
| `drivers[2].enableMetadata` |  | `false` |
| `drivers[2].enabled` |  | `true` |
| `drivers[2].encryption.configMapRef.name` |  | `""` |
| `drivers[2].fsGroupPolicy` |  | `"None"` |
| `drivers[2].fuseMountOptions` |  | `{}` |
| `drivers[2].generateOMapInfo` |  | `false` |
| `drivers[2].grpcTimeout` |  | `30` |
| `drivers[2].imageSet.name` |  | `""` |
| `drivers[2].kernelMountOptions` |  | `{}` |
| `drivers[2].log.rotation.logHostPath` |  | `""` |
| `drivers[2].log.rotation.maxFiles` |  | `7` |
| `drivers[2].log.rotation.maxLogSize` |  | `"10Gi"` |
| `drivers[2].log.rotation.periodicity` |  | `"daily"` |
| `drivers[2].log.verbosity` |  | `0` |
| `drivers[2].name` |  | `"nfs.csi.ceph.com"` |
| `drivers[2].nodePlugin.affinity` |  | `{}` |
| `drivers[2].nodePlugin.annotations` |  | `{}` |
| `drivers[2].nodePlugin.imagePullPolicy` |  | `"IfNotPresent"` |
| `drivers[2].nodePlugin.labels` |  | `{}` |
| `drivers[2].nodePlugin.priorityClassName` |  | `""` |
| `drivers[2].nodePlugin.serviceAccountName` |  | `""` |
| `drivers[2].nodePlugin.tolerations` |  | `[]` |
| `drivers[2].nodePlugin.volumes` |  | `[]` |
| `drivers[2].snapshotPolicy` |  | `"volumeSnapshot"` |
| `operatorConfig.create` |  | `true` |
| `operatorConfig.driverSpecDefaults.attachRequired` |  | `true` |
| `operatorConfig.driverSpecDefaults.cephFsClientType` |  | `"kernel"` |
| `operatorConfig.driverSpecDefaults.clusterName` |  | `""` |
| `operatorConfig.driverSpecDefaults.controllerPlugin.deploymentStrategy` |  | `{}` |
| `operatorConfig.driverSpecDefaults.controllerPlugin.hostNetwork` |  | `false` |
| `operatorConfig.driverSpecDefaults.controllerPlugin.privileged` |  | `false` |
| `operatorConfig.driverSpecDefaults.controllerPlugin.replicas` |  | `1` |
| `operatorConfig.driverSpecDefaults.controllerPlugin.resources` |  | `{}` |
| `operatorConfig.driverSpecDefaults.controllerPlugin.tolerations` |  | `[]` |
| `operatorConfig.driverSpecDefaults.deployCsiAddons` |  | `false` |
| `operatorConfig.driverSpecDefaults.enableMetadata` |  | `false` |
| `operatorConfig.driverSpecDefaults.encryption.configMapRef.name` |  | `""` |
| `operatorConfig.driverSpecDefaults.fsGroupPolicy` |  | `"File"` |
| `operatorConfig.driverSpecDefaults.fuseMountOptions` |  | `{}` |
| `operatorConfig.driverSpecDefaults.generateOMapInfo` |  | `false` |
| `operatorConfig.driverSpecDefaults.grpcTimeout` |  | `30` |
| `operatorConfig.driverSpecDefaults.imageSet.name` |  | `""` |
| `operatorConfig.driverSpecDefaults.kernelMountOptions` |  | `{}` |
| `operatorConfig.driverSpecDefaults.log.rotation.logHostPath` |  | `""` |
| `operatorConfig.driverSpecDefaults.log.rotation.maxFiles` |  | `7` |
| `operatorConfig.driverSpecDefaults.log.rotation.maxLogSize` |  | `"10Gi"` |
| `operatorConfig.driverSpecDefaults.log.rotation.periodicity` |  | `"daily"` |
| `operatorConfig.driverSpecDefaults.log.verbosity` |  | `0` |
| `operatorConfig.driverSpecDefaults.nodePlugin.affinity` |  | `{}` |
| `operatorConfig.driverSpecDefaults.nodePlugin.annotations` |  | `{}` |
| `operatorConfig.driverSpecDefaults.nodePlugin.imagePullPolicy` |  | `"IfNotPresent"` |
| `operatorConfig.driverSpecDefaults.nodePlugin.labels` |  | `{}` |
| `operatorConfig.driverSpecDefaults.nodePlugin.priorityClassName` |  | `""` |
| `operatorConfig.driverSpecDefaults.nodePlugin.tolerations` |  | `[]` |
| `operatorConfig.driverSpecDefaults.nodePlugin.volumes` |  | `[]` |
| `operatorConfig.driverSpecDefaults.snapshotPolicy` |  | `"none"` |
| `operatorConfig.name` |  | `"ceph-csi-operator-config"` |
| `operatorConfig.namespace` |  | `""` |

### **Development Build**

To deploy from a local build from your development environment:

1. Install the helm chart:

```console
cd deploy/charts/ceph-csi-drivers
helm install ceph-csi-drivers --create-namespace --namespace ceph-csi-driver .
```

## Uninstalling the Chart

To see the currently installed ceph-csi-drivers chart:

```console
helm ls --namespace ceph-csi-driver
```

To uninstall/delete the `ceph-csi-drivers` deployment:

```console
helm delete --namespace ceph-csi-driver ceph-csi-drivers
```

The command removes all the Kubernetes components associated with the chart and deletes the release.
